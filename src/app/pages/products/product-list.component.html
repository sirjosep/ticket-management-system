<p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }" styleClass="p-datatable-gridlines mt-3">
    <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between gap-1">
            <div>
                Product Lists
            </div>
            <div>
                <p-button (click)="showDialog()" icon="pi pi-plus" label="Add Product"
                    styleClass="h-3rem mr-2"></p-button>
                <p-button routerLink="/sub-products" class="btn btn-secondary"
                    label="SUBSCRIBED PRODUCT LIST"></p-button>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th scope="col">No. </th>
            <th scope="col">Code</th>
            <th scope="col">Name</th>
            <th scope="col">Options</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-p let-i="rowIndex">
        <tr>
            <td>{{ i+1 }}</td>
            <td>{{ p.productCode }}</td>
            <td>{{ p.productName }}</td>
            <td>
                <a pButton pRipple type="button" (click)="showProductDetail(p.productId, p.productCode, p.productName)"
                    class="p-button-secondary">EDIT</a>
            </td>
        </tr>
    </ng-template>
</p-table>
<form [formGroup]="productInsertDto" (ngSubmit)="createProduct()">
    <p-dialog header="Header" [(visible)]="visible">
        <ng-template pTemplate="header">
            <span class="text-xl font-bold">Insert new product</span>
        </ng-template>
        <div class="row gy-md-1">
            <div class="col-md-3">
                <label for="product-code" class="form-label">Code <span class="text-danger">*</span></label>
            </div>
            <div class="col-md-9">
                <input type="text" pInputText  id="product-code" formControlName="productCode"
                    required>
            </div>

            <div class="col-md-3">
                <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
            </div>
            <div class="col-md-9">
                <input type="text" pInputText  formControlName="productName" id="name" required>
            </div>
        </div>
        <ng-template pTemplate="footer">
            <p-button type="button" (click)="visible = false" styleClass="p-button-danger" label="Cancel"></p-button>
            <button pButton pRipper type="submit" class="btn btn-primary">Submit</button>
        </ng-template>
    </p-dialog>
</form>

<form [formGroup]="productUpdateDto" (ngSubmit)="updateProduct()">
    <p-dialog header="Header" [(visible)]="visibleUpdate">
        <ng-template pTemplate="header">
            <span class="text-xl font-bold">Edit Product</span>
        </ng-template>
        <div class="row gy-md-1">
            <div class="col-md-3">
                <label for="product-code" class="form-label">Code <span class="text-danger">*</span></label>
            </div>
            <div class="col-md-9">
                <input type="text" pInputText  id="product-code" formControlName="productCode"
                    required>
            </div>

            <div class="col-md-3">
                <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
            </div>
            <div class="col-md-9">
                <input type="text" pInputText  formControlName="productName" id="name" required>
            </div>
        </div>
        <ng-template pTemplate="footer">
            <p-button type="button" (click)="visibleUpdate = false" styleClass="p-button-danger" label="Cancel"></p-button>
            <button pButton pRipper type="submit" class="btn btn-primary">Submit</button>
        </ng-template>
    </p-dialog>
</form>